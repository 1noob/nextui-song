---
title: 最短路问题
date: 2019-12-24
---

# 最短路问题

---

## 路径数目

源点到终点，每条路只允许走一次，有多少条最短路径？（完全不相同的路径）

判断一条边是否为最短路上的边，排除掉非最短路上的边之后，用最大流在最短路径的基础上建图，就能找到最短路的数量。

如何判断一条边是否为最短路径上的边：满足 <Code color="success">dis[u] + w == dis[v]</Code> 即为最短路。

<Codeblock
  codeString={`SPFA();
for(int u=0;u<n;u++){
    for(int i=Head[u];~i;i=edge[i].next){
        int v=edge[i].v;
        if((dis[u]+edge[i].w)==dis[v])
            dinic_add_edge(u,v,1);
    }
}
Dinic();`}
  language={"cpp"}
/>

---

## 差分约束

点按序号排成一条直线。有两种要求：

- A 和 B 距离不得超过 X
- C 和 D 距离不得少于 Y

是否存在最大距离？最大距离是多少？

对于有大小制约关系的问题，需要"松弛"操作，可以考虑如下建边：

- <Code color="success">addEdge(A,B,X)</Code>
- <Code color="success">addEdge(C,D,-Y)</Code>

---

## 传递闭包

给出一些拓扑关系，有多少个点可以确定具体拓扑排名？

不完整的拓扑序，可以用 Floyd 跑一遍，找出连通关系，最后 O(n^2) 遍历判断：若一个点连通其他所有点，则可以确定其排名。

<Codeblock
  codeString={`int res = 0;
for(int i=0;i<n;i++){
    int ans=0;
    for(int j=0;j<n;j++){
        if(dis[i][j]||dis[j][i]) ans++;
    }
    if(ans==n-1) res++;
}`}
  language={"cpp"}
/>

---

## LCA

<div className={"flex-wrap flex gap-4"}>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-2586](http://acm.hdu.edu.cn/showproblem.php?pid=2586)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-2874](http://acm.hdu.edu.cn/showproblem.php?pid=2874)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-3078](http://acm.hdu.edu.cn/showproblem.php?pid=3078)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3694](http://poj.org/problem?id=3694)
  </Chip>
</div>

---

## 生成树

<div className={"flex-wrap flex gap-4"}>
  <Chip color="primary" radius="sm" variant="flat">[HDU-1233](http://acm.hdu.edu.cn/showproblem.php?pid=1233)</Chip>
  <Chip color="primary" radius="sm" variant="flat">[HDU-4081](http://acm.hdu.edu.cn/showproblem.php?pid=4081)</Chip>
  <Chip color="primary" radius="sm" variant="flat">[POJ-1679](http://poj.org/problem?id=1679)</Chip>
</div>

---

## 网络流

<div className={"flex-wrap flex gap-4"}>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-1532](http://acm.hdu.edu.cn/showproblem.php?pid=1532)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-4280](http://acm.hdu.edu.cn/showproblem.php?pid=4280)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-1087](http://poj.org/problem?id=1087)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-2195](http://poj.org/problem?id=2195)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-2516](http://poj.org/problem?id=2516)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3436](http://poj.org/problem?id=3436)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3821](http://poj.org/problem?id=3821)
  </Chip>
</div>

---

## 最短路

<div className={"flex-wrap flex gap-4"}>
  <Chip color="primary" radius="sm" variant="flat">
    [HDU-1532](http://acm.hdu.edu.cn/showproblem.php?pid=1532)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-1062](http://poj.org/problem?id=1062)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-1151](http://poj.org/problem?id=1151)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-1502](http://poj.org/problem?id=1502)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-2195](http://poj.org/problem?id=2195)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-2240](http://poj.org/problem?id=2240)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-2516](http://poj.org/problem?id=2516)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3159](http://poj.org/problem?id=3159)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3259](http://poj.org/problem?id=3159)
  </Chip>
  <Chip color="primary" radius="sm" variant="flat">
    [POJ-3660](http://poj.org/problem?id=3660)
  </Chip>
</div>


